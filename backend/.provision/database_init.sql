CREATE DATABASE IF NOT EXISTS worldquest;
USE worldquest;
SET FOREIGN_KEY_CHECKS = 0;
DROP TABLE IF EXISTS team;
DROP TABLE IF EXISTS answer;
DROP TABLE IF EXISTS question;
CREATE TABLE team(id INT AUTO_INCREMENT NOT NULL, name varchar(255) UNIQUE NOT NULL, hash varchar(255) NOT NULL, score INT NOT NULL DEFAULT 0, PRIMARY KEY(id));
CREATE TABLE question(id INT AUTO_INCREMENT NOT NULL, problem TEXT NOT NULL, answer_a TEXT NOT NULL, answer_b TEXT NOT NULL, answer_c TEXT NOT NULL, answer_d TEXT NOT NULL, correctIndex INT NOT NULL, PRIMARY KEY(id));
CREATE TABLE answer(id INT AUTO_INCREMENT NOT NULL, team INT NOT NULL, question INT NOT NULL, answerIndex INT NOT NULL, timeAnswered INT NOT NULL, PRIMARY KEY(id), FOREIGN KEY(team) REFERENCES team(id), FOREIGN KEY(question) REFERENCES question(id));
SET FOREIGN_KEY_CHECKS = 1;